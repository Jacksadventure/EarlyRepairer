[tox]
envlist = config,flake8,bashate
skipsdist = True

[testenv]
whitelist_externals =
    bash

[testenv:config]
commands =
    /bin/bash -c 'set -euo pipefail && . ./conf/production.env.example'
    /bin/bash -c 'set -euo pipefail && . ./conf/development.env.example'

[testenv:bashate]
deps = bashate==0.5.1
commands =
    bash -c "grep --recursive --binary-files=without-match \
        --files-with-match '^.!.*\(ba\)\?sh$' \
        --exclude-dir .tox \
        --exclude-dir .git \
